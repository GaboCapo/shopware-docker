#override defaults for dev
version: "2"

services:
  app_server:
    ports:
      - "8083:80"
    volumes:
      - ~/.composer/cache:/var/www/composer-cache-dir
    networks:
      enterprise:
        ipv4_address: 10.100.200.46

  app_mysql:
    networks:
      enterprise:
        ipv4_address: 10.100.200.47

  app_volumes:
    image: tianon/true
    container_name: app_volumes
    volumes:
      - .:/project
      - .:/var/www/b2b
      - ./dev-ops/docker/_volumes/app-mysqldata:/var/lib/mysql

networks:
  enterprise:
    driver: bridge
    ipam:
      driver: default
      config:
      - subnet: 10.100.200.0/24
        gateway: 10.100.200.1